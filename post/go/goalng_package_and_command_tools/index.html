<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>goalng包和命令工具 - Daemon365</title><link rel=icon href=/imgs/favicon.ico><link rel=manifest href=/manifest.json><meta name=theme-color content="#007aff"><meta name=mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="default"><meta name=apple-mobile-web-app-title content="Daemon365"><meta name=description content="包简介
任何包系统设计的目的都是为了简化大型程序的设计和维护工作，通过将一组相关的特性放进一个独立的单元以便于理解和更新，在每个单元更新的同时保持和程序中其它单元的相对独立性。这种模块化的特性允许每个包可以被其它的不同项目共享和重用，在项目范围内、甚至全球范围统一的分发和复用。
每个包一般都定义了一个不同的名 …"><meta name=keywords content="go"><meta name=author content="daemon365"><meta property="og:type" content="article"><meta property="og:url" content="https://daemon365.dev/post/go/goalng_package_and_command_tools/"><meta property="og:title" content="goalng包和命令工具 - Daemon365"><meta property="og:description" content="包简介
任何包系统设计的目的都是为了简化大型程序的设计和维护工作，通过将一组相关的特性放进一个独立的单元以便于理解和更新，在每个单元更新的同时保持和程序中其它单元的相对独立性。这种模块化的特性允许每个包可以被其它的不同项目共享和重用，在项目范围内、甚至全球范围统一的分发和复用。
每个包一般都定义了一个不同的名 …"><meta property="og:image" content="https://daemon365.dev/imgs/avatar.svg"><meta property="og:locale" content="en"><meta property="og:site_name" content="Daemon365"><meta property="article:published_time" content="2019-06-29T00:00:00+08:00"><meta property="article:modified_time" content="2019-06-29T00:00:00+08:00"><meta property="article:author" content="daemon365"><meta property="article:section" content="go"><meta property="article:tag" content="go"><meta name=twitter:card content="summary_large_image"><meta name=twitter:url content="https://daemon365.dev/post/go/goalng_package_and_command_tools/"><meta name=twitter:title content="goalng包和命令工具 - Daemon365"><meta name=twitter:description content="包简介
任何包系统设计的目的都是为了简化大型程序的设计和维护工作，通过将一组相关的特性放进一个独立的单元以便于理解和更新，在每个单元更新的同时保持和程序中其它单元的相对独立性。这种模块化的特性允许每个包可以被其它的不同项目共享和重用，在项目范围内、甚至全球范围统一的分发和复用。
每个包一般都定义了一个不同的名 …"><meta name=twitter:image content="https://daemon365.dev/imgs/avatar.svg"><link rel=canonical href=https://daemon365.dev/post/go/goalng_package_and_command_tools/><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"goalng包和命令工具","description":"\u003ch2 id=\u0022包简介\u0022\u003e包简介\u003c\/h2\u003e\n\u003cp\u003e任何包系统设计的目的都是为了简化大型程序的设计和维护工作，通过将一组相关的特性放进一个独立的单元以便于理解和更新，在每个单元更新的同时保持和程序中其它单元的相对独立性。这种模块化的特性允许每个包可以被其它的不同项目共享和重用，在项目范围内、甚至全球范围统一的分发和复用。\u003c\/p\u003e\n\u003cp\u003e每个包一般都定义了一个不同的名 …\u003c\/p\u003e","datePublished":"2019-06-29T00:00:00\u002b08:00","dateModified":"2019-06-29T00:00:00\u002b08:00","author":{"@type":"Person","name":"daemon365"},"publisher":{"@type":"Organization","name":"Daemon365","logo":{"@type":"ImageObject","url":"https:\/\/daemon365.dev\/imgs\/favicon.ico"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/daemon365.dev\/post\/go\/goalng_package_and_command_tools\/"},"inLanguage":"en"}</script><meta name=robots content="index, follow"><meta name=googlebot content="index, follow"><link rel=stylesheet href=/css/components/variables.css><link rel=stylesheet href=/css/components/base.css><link rel=stylesheet href=/css/components/layout.css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/components/search.css><link rel=stylesheet href=/css/components/toc.css><link rel=stylesheet href=/css/components/image-preview.css><link rel=stylesheet href=/css/components/reading-progress.css><style>:root{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,sans-serif}</style></head><body><div class=reading-progress-bar></div><header class=site-header><div class=container><div class=header-content><div class=site-branding><a href=/ class=site-logo><span class=site-title>Daemon365</span></a></div><nav class=site-nav><ul class=nav-menu><li><a href=/><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
Home</a></li><li><a href=/about><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
About</a></li><li><a href=/archives><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
Archives</a></li><li><a href=/categories><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
Categories</a></li><li><a href=/tags><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
Tags</a></li><li><button class=search-trigger aria-label=Search>
<svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
Search</button></li></ul></nav></div></div></header><main class=main-content><div class=post-container><div class=container><article class=post-content><header class=post-header><h1 class=post-title>goalng包和命令工具</h1><div class=post-meta><time datetime=2019-06-29><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
2019-06-29
</time><a href=/categories/go class=category-link><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
go
</a><span class=reading-time><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
2 min read
</span><span class=word-count><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
336 words</span></div><div class=post-tags><a href=/tags/go class=tag><svg class="icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
go</a></div></header><div class=post-body><h2 id=包简介>包简介</h2><p>任何包系统设计的目的都是为了简化大型程序的设计和维护工作，通过将一组相关的特性放进一个独立的单元以便于理解和更新，在每个单元更新的同时保持和程序中其它单元的相对独立性。这种模块化的特性允许每个包可以被其它的不同项目共享和重用，在项目范围内、甚至全球范围统一的分发和复用。</p><p>每个包一般都定义了一个不同的名字空间用于它内部的每个标识符的访问。每个名字空间关联到一个特定的包，让我们给类型、函数等选择简短明了的名字，这样可以在使用它们的时候减少和其它部分名字的冲突。</p><p>每个包还通过控制包内名字的可见性和是否导出来实现封装特性。通过限制包成员的可见性并隐藏包API的具体实现，将允许包的维护者在不影响外部包用户的前提下调整包的内部实现。通过限制包内变量的可见性，还可以强制用户通过某些特定函数来访问和更新内部变量，这样可以保证内部变量的一致性和并发时的互斥约束。</p><h2 id=包的导入>包的导入</h2><p>每个包是由一个全局唯一的字符串所标识的导入路径定位。出现在import语句中的导入路径也是字符串。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;math/rand&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;encoding/json&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;golang.org/x/net/html&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;github.com/go-sql-driver/mysql&#34;</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span></code></pre></div><h2 id=包声明>包声明</h2><p>在每个Go语言源文件的开头都必须有包声明语句。包声明语句的主要目的是确定当前包被其它包导入时默认的标识符（也称为包名）。</p><p>通常来说，默认的包名就是包导入路径名的最后一段，因此即使两个包的导入路径不同，它们依然可能有一个相同的包名。例如，math/rand包和golang.org/x/exp/rand包的包名都是rand。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#75af00>main</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>(</span>
</span></span><span style=display:flex><span>	<span style=color:#d88200>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d88200>&#34;math/rand&#34;</span>  
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// 导入rand包 用rand包里的方法函数等</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>main</span><span style=color:#111>()</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>	<span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#75af00>rand</span><span style=color:#111>.</span><span style=color:#75af00>Int63n</span><span style=color:#111>(</span><span style=color:#ae81ff>10000</span><span style=color:#111>))</span>  <span style=color:#75715e>// 9410</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#75af00>main</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>(</span>
</span></span><span style=display:flex><span>	<span style=color:#d88200>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d88200>&#34;golang.org/x/exp/rand&#34;</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>main</span><span style=color:#111>()</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>	<span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#75af00>rand</span><span style=color:#111>.</span><span style=color:#75af00>Int63n</span><span style=color:#111>(</span><span style=color:#ae81ff>10000</span><span style=color:#111>))</span> <span style=color:#75715e>// 9351</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div><h2 id=导入声明>导入声明</h2><p>如果我们想同时导入两个有着名字相同的包，例如math/rand包和golang.org/x/exp/rand包，那么导入声明必须至少为一个同名包指定一个新的包名以避免冲突。这叫做导入包的重命名。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#75af00>main</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>(</span>
</span></span><span style=display:flex><span>	<span style=color:#d88200>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#75af00>rand1</span> <span style=color:#d88200>&#34;math/rand&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#75af00>rand2</span> <span style=color:#d88200>&#34;golang.org/x/exp/rand&#34;</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>main</span><span style=color:#111>()</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>	<span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#75af00>rand1</span><span style=color:#111>.</span><span style=color:#75af00>Int63n</span><span style=color:#111>(</span><span style=color:#ae81ff>10000</span><span style=color:#111>))</span> <span style=color:#75715e>// 9401</span>
</span></span><span style=display:flex><span>	<span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#75af00>rand2</span><span style=color:#111>.</span><span style=color:#75af00>Int63n</span><span style=color:#111>(</span><span style=color:#ae81ff>10000</span><span style=color:#111>))</span> <span style=color:#75715e>// 9351</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div><h2 id=包的匿名导入>包的匿名导入</h2><p>如果只是导入一个包而并不使用导入的包将会导致一个编译错误。但是有时候我们只是想利用导入包而产生的副作用：它会计算包级变量的初始化表达式和执行导入包的init初始化函数。这时候我们需要抑制“unused import”编译错误，我们可以用下划线_来重命名导入的包。比如序号gorm包是要带入sql驱动</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;github.com/jinzhu/gorm&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>_</span> <span style=color:#d88200>&#34;github.com/jinzhu/gorm/dialects/mysql&#34;</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>main</span><span style=color:#111>()</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>  <span style=color:#75af00>db</span><span style=color:#111>,</span> <span style=color:#75af00>err</span> <span style=color:#f92672>:=</span> <span style=color:#75af00>gorm</span><span style=color:#111>.</span><span style=color:#75af00>Open</span><span style=color:#111>(</span><span style=color:#d88200>&#34;mysql&#34;</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;user:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>  <span style=color:#00a8c8>defer</span> <span style=color:#75af00>db</span><span style=color:#111>.</span><span style=color:#75af00>Close</span><span style=color:#111>()</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div><h2 id=包和命名>包和命名</h2><p>当创建一个包，**一般要用短小的包名，但也不能太短导致难以理解。**标准库中最常用的包有bufio、bytes、flag、fmt、http、io、json、os、sort、sync和time等包。</p><p>包名一般采用单数的形式。标准库的bytes、errors和strings使用了复数形式，这是为了避免和预定义的类型冲突，同样还有go/types是为了避免和type关键字冲突。</p><h2 id=工具>工具</h2><p>Go语言工具箱的具体功能，包括如何下载、格式化、构建、测试和安装Go语言编写的程序。</p><h3 id=go命令>go命令</h3><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#00a8c8>go</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>build</span>            <span style=color:#75af00>compile</span> <span style=color:#75af00>packages</span> <span style=color:#75af00>and</span> <span style=color:#75af00>dependencies</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>clean</span>            <span style=color:#75af00>remove</span> <span style=color:#75af00>object</span> <span style=color:#75af00>files</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>doc</span>              <span style=color:#75af00>show</span> <span style=color:#75af00>documentation</span> <span style=color:#00a8c8>for</span> <span style=color:#f92672>package</span> <span style=color:#75af00>or</span> <span style=color:#75af00>symbol</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>env</span>              <span style=color:#75af00>print</span> <span style=color:#75af00>Go</span> <span style=color:#75af00>environment</span> <span style=color:#75af00>information</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>fmt</span>              <span style=color:#75af00>run</span> <span style=color:#75af00>gofmt</span> <span style=color:#75af00>on</span> <span style=color:#f92672>package</span> <span style=color:#75af00>sources</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>get</span>              <span style=color:#75af00>download</span> <span style=color:#75af00>and</span> <span style=color:#75af00>install</span> <span style=color:#75af00>packages</span> <span style=color:#75af00>and</span> <span style=color:#75af00>dependencies</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>install</span>          <span style=color:#75af00>compile</span> <span style=color:#75af00>and</span> <span style=color:#75af00>install</span> <span style=color:#75af00>packages</span> <span style=color:#75af00>and</span> <span style=color:#75af00>dependencies</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>list</span>             <span style=color:#75af00>list</span> <span style=color:#75af00>packages</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>run</span>              <span style=color:#75af00>compile</span> <span style=color:#75af00>and</span> <span style=color:#75af00>run</span> <span style=color:#75af00>Go</span> <span style=color:#75af00>program</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>test</span>             <span style=color:#75af00>test</span> <span style=color:#75af00>packages</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>version</span>          <span style=color:#75af00>print</span> <span style=color:#75af00>Go</span> <span style=color:#75af00>version</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>vet</span>              <span style=color:#75af00>run</span> <span style=color:#00a8c8>go</span> <span style=color:#75af00>tool</span> <span style=color:#75af00>vet</span> <span style=color:#75af00>on</span> <span style=color:#75af00>packages</span>
</span></span><span style=display:flex><span><span style=color:#75af00>Use</span> <span style=color:#d88200>&#34;go help [command]&#34;</span> <span style=color:#00a8c8>for</span> <span style=color:#75af00>more</span> <span style=color:#75af00>information</span> <span style=color:#75af00>about</span> <span style=color:#75af00>a</span> <span style=color:#75af00>command</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span></code></pre></div><h3 id=下载包>下载包</h3><p>使用Go语言工具箱的go命令，不仅可以根据包导入路径找到本地工作区的包，甚至可以从互联网上找到和更新包。</p><p>使用命令go get可以下载一个单一的包或者用&mldr;下载整个子目录里面的每个包。Go语言工具箱的go命令同时计算并下载所依赖的每个包，这也是前一个例子中golang.org/x/net/html自动出现在本地工作区目录的原因。</p><h3 id=构建包>构建包</h3><p>go build命令编译命令行参数指定的每个包。如果包是一个库，则忽略输出结果；这可以用于检测包是可以正确编译的。如果包的名字是main，go build将调用链接器在当前目录创建一个可执行程序；以导入路径的最后一段作为可执行程序的名字。</p><h3 id=包文档>包文档</h3><p>Go语言的编码风格鼓励为每个包提供良好的文档。包中每个导出的成员和包声明前都应该包含目的和用法说明的注释。</p><p>Go语言中的文档注释一般是完整的句子，第一行通常是摘要说明，以被注释者的名字开头。注释中函数的参数或其它的标识符并不需要额外的引号或其它标记注明。例如，下面是fmt.Fprintf的文档注释。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Fprintf formats according to a format specifier and writes to w.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// It returns the number of bytes written and any write error encountered.</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>Fprintf</span><span style=color:#111>(</span><span style=color:#75af00>w</span> <span style=color:#75af00>io</span><span style=color:#111>.</span><span style=color:#75af00>Writer</span><span style=color:#111>,</span> <span style=color:#75af00>format</span> <span style=color:#00a8c8>string</span><span style=color:#111>,</span> <span style=color:#75af00>a</span> <span style=color:#f92672>...</span><span style=color:#00a8c8>interface</span><span style=color:#111>{})</span> <span style=color:#111>(</span><span style=color:#00a8c8>int</span><span style=color:#111>,</span> <span style=color:#00a8c8>error</span><span style=color:#111>)</span>
</span></span></code></pre></div><p>首先是go doc命令，该命令打印其后所指定的实体的声明与文档注释，该实体可能是一个包：</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#00a8c8>go</span> <span style=color:#75af00>doc</span> <span style=color:#75af00>time</span>
</span></span><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#75af00>time</span> <span style=color:#75715e>// import &#34;time&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75af00>Package</span> <span style=color:#75af00>time</span> <span style=color:#75af00>provides</span> <span style=color:#75af00>functionality</span> <span style=color:#00a8c8>for</span> <span style=color:#75af00>measuring</span> <span style=color:#75af00>and</span> <span style=color:#75af00>displaying</span> <span style=color:#75af00>time</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>const</span> <span style=color:#75af00>Nanosecond</span> <span style=color:#75af00>Duration</span> <span style=color:#111>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>After</span><span style=color:#111>(</span><span style=color:#75af00>d</span> <span style=color:#75af00>Duration</span><span style=color:#111>)</span> <span style=color:#f92672>&lt;-</span><span style=color:#00a8c8>chan</span> <span style=color:#75af00>Time</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>Sleep</span><span style=color:#111>(</span><span style=color:#75af00>d</span> <span style=color:#75af00>Duration</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>Since</span><span style=color:#111>(</span><span style=color:#75af00>t</span> <span style=color:#75af00>Time</span><span style=color:#111>)</span> <span style=color:#75af00>Duration</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>Now</span><span style=color:#111>()</span> <span style=color:#75af00>Time</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>type</span> <span style=color:#75af00>Duration</span> <span style=color:#00a8c8>int64</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>type</span> <span style=color:#75af00>Time</span> <span style=color:#00a8c8>struct</span> <span style=color:#111>{</span> <span style=color:#f92672>...</span> <span style=color:#111>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span><span style=color:#75af00>many</span> <span style=color:#75af00>more</span><span style=color:#f92672>...</span>
</span></span></code></pre></div><p>或者是某个具体的包成员：</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#00a8c8>go</span> <span style=color:#75af00>doc</span> <span style=color:#75af00>time</span><span style=color:#111>.</span><span style=color:#75af00>Since</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>Since</span><span style=color:#111>(</span><span style=color:#75af00>t</span> <span style=color:#75af00>Time</span><span style=color:#111>)</span> <span style=color:#75af00>Duration</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>Since</span> <span style=color:#75af00>returns</span> <span style=color:#75af00>the</span> <span style=color:#75af00>time</span> <span style=color:#75af00>elapsed</span> <span style=color:#75af00>since</span> <span style=color:#75af00>t</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>It</span> <span style=color:#75af00>is</span> <span style=color:#75af00>shorthand</span> <span style=color:#00a8c8>for</span> <span style=color:#75af00>time</span><span style=color:#111>.</span><span style=color:#75af00>Now</span><span style=color:#111>().</span><span style=color:#75af00>Sub</span><span style=color:#111>(</span><span style=color:#75af00>t</span><span style=color:#111>).</span>
</span></span></code></pre></div><p>或者是一个方法：</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#00a8c8>go</span> <span style=color:#75af00>doc</span> <span style=color:#75af00>time</span><span style=color:#111>.</span><span style=color:#75af00>Duration</span><span style=color:#111>.</span><span style=color:#75af00>Seconds</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#111>(</span><span style=color:#75af00>d</span> <span style=color:#75af00>Duration</span><span style=color:#111>)</span> <span style=color:#75af00>Seconds</span><span style=color:#111>()</span> <span style=color:#00a8c8>float64</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>Seconds</span> <span style=color:#75af00>returns</span> <span style=color:#75af00>the</span> <span style=color:#75af00>duration</span> <span style=color:#75af00>as</span> <span style=color:#75af00>a</span> <span style=color:#75af00>floating</span><span style=color:#f92672>-</span><span style=color:#75af00>point</span> <span style=color:#75af00>number</span> <span style=color:#75af00>of</span> <span style=color:#75af00>seconds</span><span style=color:#111>.</span>
</span></span></code></pre></div><h3 id=内部包>内部包</h3><p>在Go语言程序中，包是最重要的封装机制。没有导出的标识符只在同一个包内部可以访问，而导出的标识符则是面向全宇宙都是可见的。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75af00>net</span><span style=color:#f92672>/</span><span style=color:#75af00>http</span>
</span></span><span style=display:flex><span><span style=color:#75af00>net</span><span style=color:#f92672>/</span><span style=color:#75af00>http</span><span style=color:#f92672>/</span><span style=color:#75af00>internal</span><span style=color:#f92672>/</span><span style=color:#75af00>chunked</span>
</span></span><span style=display:flex><span><span style=color:#75af00>net</span><span style=color:#f92672>/</span><span style=color:#75af00>http</span><span style=color:#f92672>/</span><span style=color:#75af00>httputil</span>
</span></span><span style=display:flex><span><span style=color:#75af00>net</span><span style=color:#f92672>/</span><span style=color:#75af00>url</span>
</span></span></code></pre></div><h3 id=查询包>查询包</h3><p>go list命令可以查询可用包的信息。其最简单的形式，可以测试包是否在工作区并打印它的导入路径：</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#00a8c8>go</span> <span style=color:#75af00>list</span> <span style=color:#75af00>github</span><span style=color:#111>.</span><span style=color:#75af00>com</span><span style=color:#f92672>/</span><span style=color:#00a8c8>go</span><span style=color:#f92672>-</span><span style=color:#75af00>sql</span><span style=color:#f92672>-</span><span style=color:#75af00>driver</span><span style=color:#f92672>/</span><span style=color:#75af00>mysql</span>
</span></span><span style=display:flex><span><span style=color:#75af00>github</span><span style=color:#111>.</span><span style=color:#75af00>com</span><span style=color:#f92672>/</span><span style=color:#00a8c8>go</span><span style=color:#f92672>-</span><span style=color:#75af00>sql</span><span style=color:#f92672>-</span><span style=color:#75af00>driver</span><span style=color:#f92672>/</span><span style=color:#75af00>mysql</span>
</span></span></code></pre></div><p>go list命令还可以获取每个包完整的元信息，而不仅仅只是导入路径，这些元信息可以以不同格式提供给用户。其中-json命令行参数表示用JSON格式打印每个包的元信息。可以用"&mldr;&ldquo;表示匹配相关包的包的导入路径。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#00a8c8>go</span> <span style=color:#75af00>list</span> <span style=color:#f92672>...</span><span style=color:#75af00>mysql</span>
</span></span><span style=display:flex><span><span style=color:#75af00>github</span><span style=color:#111>.</span><span style=color:#75af00>com</span><span style=color:#f92672>/</span><span style=color:#75af00>astaxie</span><span style=color:#f92672>/</span><span style=color:#75af00>beego</span><span style=color:#f92672>/</span><span style=color:#75af00>session</span><span style=color:#f92672>/</span><span style=color:#75af00>mysql</span>
</span></span><span style=display:flex><span><span style=color:#75af00>github</span><span style=color:#111>.</span><span style=color:#75af00>com</span><span style=color:#f92672>/</span><span style=color:#00a8c8>go</span><span style=color:#f92672>-</span><span style=color:#75af00>sql</span><span style=color:#f92672>-</span><span style=color:#75af00>driver</span><span style=color:#f92672>/</span><span style=color:#75af00>mysql</span>
</span></span></code></pre></div><p>参考文章:</p><ul><li>《go语言圣经》</li></ul></div><footer class=post-footer><div class=post-license><p><strong>Article Title:</strong> goalng包和命令工具</p><p><strong>Author:</strong> daemon365</p><p><strong>Permalink:</strong> <a href=https://daemon365.dev/post/go/goalng_package_and_command_tools/>https://daemon365.dev/post/go/goalng_package_and_command_tools/</a></p><p><strong>License:</strong> This article is licensed under
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank rel=noopener>BY-NC-SA</a>. Please cite the source when reposting.</p></div><nav class=post-navigation><a href=/post/go/golang_unit_testing/ class=nav-prev><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg><div><span class=nav-label>Previous</span>
<span class=nav-title>golang 单元测试</span></div></a><a href=/post/go/introduction_and_use_of_gin_framework/ class=nav-next><div><span class=nav-label>Next</span>
<span class=nav-title>Gin框架介绍及使用</span></div><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a></nav><div class=post-comments><script src=https://utteranc.es/client.js repo=daemon365/blog issue-term=pathname label=comments theme=preferred-color-scheme crossorigin=anonymous async></script></div></footer></article></div></div><div class=toc-float-button id=tocButton><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5.0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5.0 014 19.5v-15A2.5 2.5.0 016.5 2z"/></svg></div><div class=toc-panel id=tocPanel><div class=toc-panel-header><h3 class=toc-panel-title>Table of Contents</h3><button class=toc-panel-close id=tocClose>
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button></div><nav class=toc-panel-nav id=TableOfContents><nav id=TableOfContents><ul><li><a href=#包简介>包简介</a></li><li><a href=#包的导入>包的导入</a></li><li><a href=#包声明>包声明</a></li><li><a href=#导入声明>导入声明</a></li><li><a href=#包的匿名导入>包的匿名导入</a></li><li><a href=#包和命名>包和命名</a></li><li><a href=#工具>工具</a><ul><li><a href=#go命令>go命令</a></li><li><a href=#下载包>下载包</a></li><li><a href=#构建包>构建包</a></li><li><a href=#包文档>包文档</a></li><li><a href=#内部包>内部包</a></li><li><a href=#查询包>查询包</a></li></ul></li></ul></nav></nav></div></main><footer class=site-footer><div class=container><div class=footer-content><div class=footer-info><p class=copyright>© 2025 daemon365</p><p class=powered-by>Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/daemon365/hugo-theme-daemon target=_blank rel=noopener>Daemon</a></p></div><div class=social-links><a href=https://github.com/daemon365 target=_blank rel=noopener aria-label=GitHub><svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
</a><a href=mailto:daemon365@foxmail.com aria-label=Email><svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></div></div></footer><div class=search-modal id=searchModal><div class=search-modal-backdrop></div><div class=search-modal-content><div class=search-modal-header><input type=text class=search-input id=searchInput placeholder="Search articles..." autofocus>
<button class=search-close aria-label="Close search">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button></div><div class=search-results id=searchResults><p class=search-hint>Enter 2 or more characters to start searching</p></div></div></div><script src=/js/components/search.js></script><script src=/js/components/toc.js></script><script src=/js/components/scroll-effects.js></script><script src=/js/components/code-copy.js></script><script src=/js/components/lazy-loading.js></script><script src=/js/components/image-preview.js></script><script src=/js/components/back-to-top.js></script><script src=/js/main-new.js></script><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered:",e.scope)}).catch(e=>{console.log("Service Worker registration failed:",e)})})</script></body></html>