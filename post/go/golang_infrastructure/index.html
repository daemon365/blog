<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>golang基础结构 - Daemon365</title><link rel=icon href=/imgs/favicon.ico><link rel=manifest href=/manifest.json><meta name=theme-color content="#007aff"><meta name=mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="default"><meta name=apple-mobile-web-app-title content="Daemon365"><meta name=description content="命名
Go语言中的函数名、变量名、常量名、类型名、语句标号和包名等所有的命名,都遵循一个简单的命名规则：一个名字必须以一个字母（Unicode字母）或下划线开头,后面可以跟任意数量的字母、数字或下划线.大写字母和小写字母是不同的：heapSort和Heapsort是两个不同的名字.
Go语言的关键字有25个, …"><meta name=keywords content="go"><meta name=author content="daemon365"><meta property="og:type" content="article"><meta property="og:url" content="https://daemon365.dev/post/go/golang_infrastructure/"><meta property="og:title" content="golang基础结构 - Daemon365"><meta property="og:description" content="命名
Go语言中的函数名、变量名、常量名、类型名、语句标号和包名等所有的命名,都遵循一个简单的命名规则：一个名字必须以一个字母（Unicode字母）或下划线开头,后面可以跟任意数量的字母、数字或下划线.大写字母和小写字母是不同的：heapSort和Heapsort是两个不同的名字.
Go语言的关键字有25个, …"><meta property="og:image" content="https://daemon365.dev/imgs/avatar.svg"><meta property="og:locale" content="en"><meta property="og:site_name" content="Daemon365"><meta property="article:published_time" content="2019-06-22T00:00:00+08:00"><meta property="article:modified_time" content="2019-06-22T00:00:00+08:00"><meta property="article:author" content="daemon365"><meta property="article:section" content="go"><meta property="article:tag" content="go"><meta name=twitter:card content="summary_large_image"><meta name=twitter:url content="https://daemon365.dev/post/go/golang_infrastructure/"><meta name=twitter:title content="golang基础结构 - Daemon365"><meta name=twitter:description content="命名
Go语言中的函数名、变量名、常量名、类型名、语句标号和包名等所有的命名,都遵循一个简单的命名规则：一个名字必须以一个字母（Unicode字母）或下划线开头,后面可以跟任意数量的字母、数字或下划线.大写字母和小写字母是不同的：heapSort和Heapsort是两个不同的名字.
Go语言的关键字有25个, …"><meta name=twitter:image content="https://daemon365.dev/imgs/avatar.svg"><link rel=canonical href=https://daemon365.dev/post/go/golang_infrastructure/><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"golang基础结构","description":"\u003ch2 id=\u0022命名\u0022\u003e命名\u003c\/h2\u003e\n\u003cp\u003eGo语言中的\u003cstrong\u003e函数名\u003c\/strong\u003e、\u003cstrong\u003e变量名\u003c\/strong\u003e、\u003cstrong\u003e常量名\u003c\/strong\u003e、\u003cstrong\u003e类型名\u003c\/strong\u003e、\u003cstrong\u003e语句标号\u003c\/strong\u003e和\u003cstrong\u003e包名\u003c\/strong\u003e等所有的命名,都遵循一个简单的命名规则：一个名字必须以一个字母（Unicode字母）或下划线开头,后面可以跟任意数量的\u003cstrong\u003e字母\u003c\/strong\u003e、\u003cstrong\u003e数字\u003c\/strong\u003e或\u003cstrong\u003e下划线\u003c\/strong\u003e.大写字母和小写字母是不同的：heapSort和Heapsort是两个不同的名字.\u003c\/p\u003e\n\u003cp\u003eGo语言的\u003cstrong\u003e关键字\u003c\/strong\u003e有25个, …\u003c\/p\u003e","datePublished":"2019-06-22T00:00:00\u002b08:00","dateModified":"2019-06-22T00:00:00\u002b08:00","author":{"@type":"Person","name":"daemon365"},"publisher":{"@type":"Organization","name":"Daemon365","logo":{"@type":"ImageObject","url":"https:\/\/daemon365.dev\/imgs\/favicon.ico"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/daemon365.dev\/post\/go\/golang_infrastructure\/"},"inLanguage":"en"}</script><meta name=robots content="index, follow"><meta name=googlebot content="index, follow"><link rel=stylesheet href=/css/components/variables.css><link rel=stylesheet href=/css/components/base.css><link rel=stylesheet href=/css/components/layout.css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/components/search.css><link rel=stylesheet href=/css/components/toc.css><link rel=stylesheet href=/css/components/image-preview.css><link rel=stylesheet href=/css/components/reading-progress.css><style>:root{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,sans-serif}</style></head><body><div class=reading-progress-bar></div><header class=site-header><div class=container><div class=header-content><div class=site-branding><a href=/ class=site-logo><span class=site-title>Daemon365</span></a></div><nav class=site-nav><ul class=nav-menu><li><a href=/><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
Home</a></li><li><a href=/about><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
About</a></li><li><a href=/archives><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
Archives</a></li><li><a href=/categories><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
Categories</a></li><li><a href=/tags><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
Tags</a></li><li><button class=search-trigger aria-label=Search>
<svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
Search</button></li></ul></nav></div></div></header><main class=main-content><div class=post-container><div class=container><article class=post-content><header class=post-header><h1 class=post-title>golang基础结构</h1><div class=post-meta><time datetime=2019-06-22><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
2019-06-22
</time><a href=/categories/go class=category-link><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
go
</a><span class=reading-time><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
2 min read
</span><span class=word-count><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
307 words</span></div><div class=post-tags><a href=/tags/go class=tag><svg class="icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
go</a></div></header><div class=post-body><h2 id=命名>命名</h2><p>Go语言中的<strong>函数名</strong>、<strong>变量名</strong>、<strong>常量名</strong>、<strong>类型名</strong>、<strong>语句标号</strong>和<strong>包名</strong>等所有的命名,都遵循一个简单的命名规则：一个名字必须以一个字母（Unicode字母）或下划线开头,后面可以跟任意数量的<strong>字母</strong>、<strong>数字</strong>或<strong>下划线</strong>.大写字母和小写字母是不同的：heapSort和Heapsort是两个不同的名字.</p><p>Go语言的<strong>关键字</strong>有25个,关键字<strong>不能用于自定义名字</strong>. 分别为:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00a8c8>break</span>      <span style=color:#00a8c8>default</span>       <span style=color:#00a8c8>func</span>     <span style=color:#00a8c8>interface</span>   <span style=color:#00a8c8>select</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>case</span>       <span style=color:#00a8c8>defer</span>         <span style=color:#00a8c8>go</span>       <span style=color:#00a8c8>map</span>         <span style=color:#00a8c8>struct</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>chan</span>       <span style=color:#00a8c8>else</span>          <span style=color:#00a8c8>goto</span>     <span style=color:#f92672>package</span>     <span style=color:#00a8c8>switch</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>const</span>      <span style=color:#00a8c8>fallthrough</span>   <span style=color:#00a8c8>if</span>       <span style=color:#00a8c8>range</span>       <span style=color:#00a8c8>type</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>continue</span>   <span style=color:#00a8c8>for</span>           <span style=color:#f92672>import</span>   <span style=color:#00a8c8>return</span>      <span style=color:#00a8c8>var</span>
</span></span></code></pre></div><p>还有大约30多个预定义的名字,这些内部预先定义的名字并不是关键字，你可以在定义中重新使用它们。在一些特殊的场景中重新定义它们也是有意义的，但是也要注意避免过度而引起语义混乱.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75af00>内建常量</span><span style=color:#111>:</span> <span style=color:#00a8c8>true</span> <span style=color:#00a8c8>false</span> <span style=color:#00a8c8>iota</span> <span style=color:#00a8c8>nil</span>
</span></span><span style=display:flex><span><span style=color:#75af00>内建类型</span><span style=color:#111>:</span> <span style=color:#00a8c8>int</span> <span style=color:#00a8c8>int8</span> <span style=color:#00a8c8>int16</span> <span style=color:#00a8c8>int32</span> <span style=color:#00a8c8>int64</span>
</span></span><span style=display:flex><span>          <span style=color:#00a8c8>uint</span> <span style=color:#00a8c8>uint8</span> <span style=color:#00a8c8>uint16</span> <span style=color:#00a8c8>uint32</span> <span style=color:#00a8c8>uint64</span> <span style=color:#00a8c8>uintptr</span>
</span></span><span style=display:flex><span>          <span style=color:#00a8c8>float32</span> <span style=color:#00a8c8>float64</span> <span style=color:#00a8c8>complex128</span> <span style=color:#00a8c8>complex64</span>
</span></span><span style=display:flex><span>          <span style=color:#00a8c8>bool</span> <span style=color:#00a8c8>byte</span> <span style=color:#00a8c8>rune</span> <span style=color:#00a8c8>string</span> <span style=color:#00a8c8>error</span>
</span></span><span style=display:flex><span><span style=color:#75af00>内建函数</span><span style=color:#111>:</span> <span style=color:#75af00>make</span> <span style=color:#75af00>len</span> <span style=color:#75af00>cap</span> <span style=color:#75af00>new</span> <span style=color:#75af00>append</span> <span style=color:#75af00>copy</span> <span style=color:#75af00>close</span> <span style=color:#75af00>delete</span>
</span></span><span style=display:flex><span>          <span style=color:#75af00>complex</span> <span style=color:#75af00>real</span> <span style=color:#75af00>imag</span>
</span></span><span style=display:flex><span>          <span style=color:#75af00>panic</span> <span style=color:#75af00>recover</span>
</span></span></code></pre></div><p>在习惯上，Go语言程序员推荐使用 <em><strong>驼峰式</strong></em> 命名，当名字有几个单词组成的时优先使用大小写分隔，而不是优先用下划线分隔。</p><h2 id=声明>声明</h2><p>Go语言主要有四种类型的声明语句：<strong>var</strong>、<strong>const</strong>、<strong>type</strong>和<strong>func</strong>，分别对应<strong>变量</strong>、<strong>常量</strong>、<strong>类型</strong>和<strong>函数实体对象</strong>的声明。</p><p>一个Go语言编写的程序对应一个或多个以.go为文件后缀名的源文件中。每个源文件以包的声明语句开始，说明该源文件是属于哪个包。包声明语句之后是import语句导入依赖的其它包，然后是包一级的类型、变量、常量、函数的声明语句.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#75af00>main</span> <span style=color:#75715e>// main包</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#d88200>&#34;fmt&#34;</span> <span style=color:#75715e>// 引入fmt内部包</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>const</span> <span style=color:#75af00>price</span> <span style=color:#111>=</span> <span style=color:#ae81ff>212.0</span> <span style=color:#75715e>// 浮点型常量</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>main</span><span style=color:#111>()</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00a8c8>var</span> <span style=color:#75af00>f</span> <span style=color:#111>=</span> <span style=color:#75af00>price</span>                        <span style=color:#75715e>// f浮点型变量</span>
</span></span><span style=display:flex><span>	<span style=color:#00a8c8>var</span> <span style=color:#75af00>c</span> <span style=color:#111>=</span> <span style=color:#111>(</span><span style=color:#75af00>f</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>32</span><span style=color:#111>)</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>5</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>9</span>             <span style=color:#75715e>// c浮点型变量</span>
</span></span><span style=display:flex><span>	<span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Printf</span><span style=color:#111>(</span><span style=color:#d88200>&#34;f = %g  c = %g\n&#34;</span><span style=color:#111>,</span> <span style=color:#75af00>f</span><span style=color:#111>,</span> <span style=color:#75af00>c</span><span style=color:#111>)</span> <span style=color:#75715e>// %g为浮点型占位符</span>
</span></span><span style=display:flex><span>	<span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Printf</span><span style=color:#111>(</span><span style=color:#d88200>&#34;f:%T,c:%T&#34;</span><span style=color:#111>,</span> <span style=color:#75af00>f</span><span style=color:#111>,</span> <span style=color:#75af00>c</span><span style=color:#111>)</span>        <span style=color:#75715e>// %T为打印类型  结果:f:float64,c:float64</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div><h2 id=变量>变量</h2><p>var声明语句可以创建一个特定类型的变量，然后给变量附加一个名字，并且设置变量的初始值。变量声明的一般语法如下：</p><p>var 变量名字 类型 = 表达式</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 例如</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>name</span> <span style=color:#00a8c8>string</span> <span style=color:#111>=</span> <span style=color:#d88200>&#34;zhy&#34;</span>
</span></span></code></pre></div><p>其中“<em>类型</em>”或“<em>= 表达式</em>”两个部分可以省略其中的一个。如果省略的是类型信息，那么将根据初始化表达式来推导变量的类型信息。如果初始化表达式被省略，那么将用零值初始化该变量。 数值类型变量对应的零值是0，布尔类型变量对应的零值是false，字符串类型对应的零值是空字符串，接口或引用类型（包括slice、指针、map、chan和函数）变量对应的零值是nil。数组或结构体等聚合类型对应的零值是每个元素或字段都是对应该类型的零值。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>s</span> <span style=color:#00a8c8>string</span>
</span></span><span style=display:flex><span><span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#75af00>s</span><span style=color:#111>)</span> <span style=color:#75715e>// &#34;&#34;</span>
</span></span></code></pre></div><p>也可以在一个声明语句中同时声明一组变量，或用一组初始化表达式声明并初始化一组变量。如果省略每个变量的类型，将可以声明多个类型不同的变量（<strong>类型由初始化表达式推导</strong>）：</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>i</span><span style=color:#111>,</span> <span style=color:#75af00>j</span><span style=color:#111>,</span> <span style=color:#75af00>k</span> <span style=color:#00a8c8>int</span>                 <span style=color:#75715e>// int, int, int</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>b</span><span style=color:#111>,</span> <span style=color:#75af00>f</span><span style=color:#111>,</span> <span style=color:#75af00>s</span> <span style=color:#111>=</span> <span style=color:#00a8c8>true</span><span style=color:#111>,</span> <span style=color:#ae81ff>2.3</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;four&#34;</span> <span style=color:#75715e>// bool, float64, string</span>
</span></span></code></pre></div><p>一组变量也可以通过调用一个函数，由<strong>函数返回的多个返回值</strong>初始化：</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>f</span><span style=color:#111>,</span> <span style=color:#75af00>err</span> <span style=color:#111>=</span> <span style=color:#75af00>os</span><span style=color:#111>.</span><span style=color:#75af00>Open</span><span style=color:#111>(</span><span style=color:#d88200>&#34;./project.log&#34;</span><span style=color:#111>)</span>  <span style=color:#75715e>// 打开文件 f为句柄 err为错误</span>
</span></span></code></pre></div><h3 id=简短变量声明>简短变量声明</h3><p>在函数内部，有一种称为简短变量声明语句的形式可用于声明和初始化局部变量。它以“<strong>名字 := 表达式</strong>”形式声明变量，变量的类型根据表达式来自动推导。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75af00>name</span> <span style=color:#f92672>:=</span> <span style=color:#d88200>&#34;zhy&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75af00>f</span><span style=color:#111>,</span><span style=color:#75af00>err</span> <span style=color:#f92672>:=</span> <span style=color:#75af00>os</span><span style=color:#111>.</span><span style=color:#75af00>Open</span><span style=color:#111>(</span><span style=color:#d88200>&#34;./project.log&#34;</span><span style=color:#111>)</span>
</span></span></code></pre></div><h3 id=指针>指针</h3><p><strong>一个变量对应一个保存了变量对应类型值的内存空间</strong>。<strong>一个指针的值是另一个变量的地址</strong>。一个指针对应变量在内存中的存储位置。并不是每一个值都会有一个内存地址，但是对于每一个变量必然有对应的内存地址。通过指针，我们可以直接读或更新对应变量的值，而不需要知道该变量的名字（如果变量有名字的话）。指针的定义为*+类型比如*int等,或者<strong>把变量的地址赋值给指针</strong>,编辑器会自动推到指针的类型</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>number</span> <span style=color:#f92672>*</span><span style=color:#00a8c8>int</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>a</span> <span style=color:#111>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>b</span> <span style=color:#111>=</span> <span style=color:#f92672>&amp;</span><span style=color:#75af00>a</span> <span style=color:#75715e>// &amp;为取值符</span>
</span></span></code></pre></div><p>用*+指针变量出去所指变量的值</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#f92672>*</span><span style=color:#75af00>p</span><span style=color:#111>)</span>  <span style=color:#75715e>// 0</span>
</span></span><span style=display:flex><span><span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#f92672>*</span><span style=color:#75af00>b</span><span style=color:#111>)</span>  <span style=color:#75715e>// 100</span>
</span></span></code></pre></div><h3 id=new初始化>New初始化</h3><p>另一个创建变量的方法是调用用内建的new函数。表达式new(T)将创建一个T类型的匿名变量，初始化为T类型的零值，然后返回变量地址，返回的指针类型为*T。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75af00>p</span> <span style=color:#f92672>:=</span> <span style=color:#111>new</span><span style=color:#111>(</span><span style=color:#00a8c8>int</span><span style=color:#111>)</span>   <span style=color:#75715e>// p, *int 类型, 指向匿名的 int 变量</span>
</span></span><span style=display:flex><span><span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#f92672>*</span><span style=color:#75af00>p</span><span style=color:#111>)</span> <span style=color:#75715e>// &#34;0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>*</span><span style=color:#75af00>p</span> <span style=color:#111>=</span> <span style=color:#ae81ff>2</span>          <span style=color:#75715e>// 设置 int 匿名变量的值为 2</span>
</span></span><span style=display:flex><span><span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#f92672>*</span><span style=color:#75af00>p</span><span style=color:#111>)</span> <span style=color:#75715e>// &#34;2&#34;</span>
</span></span></code></pre></div><h3 id=变量的生命周期>变量的生命周期</h3><p>变量的生命周期指的是在程序运行期间变量有效存在的时间间隔。对于在包一级声明的变量来说，它们的生命周期和整个程序的运行周期是一致的。而相比之下，局部变量的声明周期则是动态的：**每次从创建一个新变量的声明语句开始，直到该变量不再被引用为止，然后变量的存储空间可能被回收。**函数的参数变量和返回值变量都是局部变量。它们在函数每次被调用的时候创建。</p><h2 id=赋值>赋值</h2><ul><li>直接赋值x = 100</li><li>通过指针赋值*p = &ldquo;zhy&rdquo;</li><li>结构体赋值stu.name = &ldquo;zhy&rdquo;</li><li>数组切片赋值lst[1] = lst[1] + 1</li><li>二元运算符x *= 6等同于x = x * 6</li><li>自加自减x++x&ndash;</li><li>交换赋值x,y = y,x</li><li>函数赋值f, err = os.Open(&ldquo;project.log&rdquo;)</li></ul><h2 id=类型>类型</h2><p>一个类型声明语句创建了一个新的类型名称，和现有类型具有相同的底层结构。新命名的类型提供了一个方法，用来分隔不同概念的类型，这样即使它们底层类型相同也是不兼容的。</p><pre tabindex=0><code>type 类型名字 底层类型
</code></pre><h2 id=包>包</h2><p>Go语言中的包和其他语言的库或模块的概念类似，目的都是为了支持<strong>模块化、封装、单独编译和代码重用</strong>。一个<strong>包的源代码保存在一个或多个以.go为文件后缀名的源文件</strong>中，通常一个包所在目录路径的后缀是包的导入路径；</p><h2 id=作用域>作用域</h2><p>一个声明语句将程序中的实体和一个名字关联，比如一个函数或一个变量。声明语句的作用域是指<strong>源代码中可以有效使用这个名字的范围</strong>。</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>f</span><span style=color:#111>()</span> <span style=color:#111>{}</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>var</span> <span style=color:#75af00>g</span> <span style=color:#111>=</span> <span style=color:#d88200>&#34;g&#34;</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>func</span> <span style=color:#75af00>main</span><span style=color:#111>()</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>f</span> <span style=color:#f92672>:=</span> <span style=color:#d88200>&#34;f&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#75af00>f</span><span style=color:#111>)</span> <span style=color:#75715e>// main函数的作用域</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#75af00>g</span><span style=color:#111>)</span> <span style=color:#75715e>// g包作用域</span>
</span></span><span style=display:flex><span>    <span style=color:#75af00>fmt</span><span style=color:#111>.</span><span style=color:#75af00>Println</span><span style=color:#111>(</span><span style=color:#75af00>h</span><span style=color:#111>)</span> <span style=color:#75715e>// pinic报错 没有找到</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div><p>用:=声明变量,<strong>只能在函数内使用</strong>,在全局使用会报错</p></div><footer class=post-footer><div class=post-license><p><strong>Article Title:</strong> golang基础结构</p><p><strong>Author:</strong> daemon365</p><p><strong>Permalink:</strong> <a href=https://daemon365.dev/post/go/golang_infrastructure/>https://daemon365.dev/post/go/golang_infrastructure/</a></p><p><strong>License:</strong> This article is licensed under
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank rel=noopener>BY-NC-SA</a>. Please cite the source when reposting.</p></div><nav class=post-navigation><a href=/post/go/golang_complex_data_structure/ class=nav-prev><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg><div><span class=nav-label>Previous</span>
<span class=nav-title>golang复杂数据结构</span></div></a><a href=/post/go/golang_basic_types/ class=nav-next><div><span class=nav-label>Next</span>
<span class=nav-title>golang基础类型</span></div><svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a></nav><div class=post-comments><script src=https://utteranc.es/client.js repo=daemon365/blog issue-term=pathname label=comments theme=preferred-color-scheme crossorigin=anonymous async></script></div></footer></article></div></div><div class=toc-float-button id=tocButton><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5.0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5.0 014 19.5v-15A2.5 2.5.0 016.5 2z"/></svg></div><div class=toc-panel id=tocPanel><div class=toc-panel-header><h3 class=toc-panel-title>Table of Contents</h3><button class=toc-panel-close id=tocClose>
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button></div><nav class=toc-panel-nav id=TableOfContents><nav id=TableOfContents><ul><li><a href=#命名>命名</a></li><li><a href=#声明>声明</a></li><li><a href=#变量>变量</a><ul><li><a href=#简短变量声明>简短变量声明</a></li><li><a href=#指针>指针</a></li><li><a href=#new初始化>New初始化</a></li><li><a href=#变量的生命周期>变量的生命周期</a></li></ul></li><li><a href=#赋值>赋值</a></li><li><a href=#类型>类型</a></li><li><a href=#包>包</a></li><li><a href=#作用域>作用域</a></li></ul></nav></nav></div></main><footer class=site-footer><div class=container><div class=footer-content><div class=footer-info><p class=copyright>© 2025 daemon365</p><p class=powered-by>Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/daemon365/hugo-theme-daemon target=_blank rel=noopener>Daemon</a></p></div><div class=social-links><a href=https://github.com/daemon365 target=_blank rel=noopener aria-label=GitHub><svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
</a><a href=mailto:daemon365@foxmail.com aria-label=Email><svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></div></div></footer><div class=search-modal id=searchModal><div class=search-modal-backdrop></div><div class=search-modal-content><div class=search-modal-header><input type=text class=search-input id=searchInput placeholder="Search articles..." autofocus>
<button class=search-close aria-label="Close search">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button></div><div class=search-results id=searchResults><p class=search-hint>Enter 2 or more characters to start searching</p></div></div></div><script src=/js/components/search.js></script><script src=/js/components/toc.js></script><script src=/js/components/scroll-effects.js></script><script src=/js/components/code-copy.js></script><script src=/js/components/lazy-loading.js></script><script src=/js/components/image-preview.js></script><script src=/js/components/back-to-top.js></script><script src=/js/main-new.js></script><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered:",e.scope)}).catch(e=>{console.log("Service Worker registration failed:",e)})})</script></body></html>